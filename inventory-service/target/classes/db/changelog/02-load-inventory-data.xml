<?xml version="1.0" encoding="UTF-8"?>
<!--
  INITIAL DATA LOADING
  ====================
  This changelog loads inventory batch data from CSV file using Liquibase's
  loadData feature. The CSV file contains sample product batches with different
  expiry dates to demonstrate FIFO inventory management.
-->
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.20.xsd">

    <changeSet id="2" author="system">
        <comment>Load initial inventory batch data from CSV file</comment>
        
        <loadData
            file="db/changelog/data/inventory_batches.csv"
            tableName="inventory_batch"
            separator=","
            quotchar='"'
            relativeToChangelogFile="false">
            
            <column name="batch_id" type="NUMERIC"/>
            <column name="product_id" type="NUMERIC"/>
            <column name="product_name" type="STRING"/>
            <column name="quantity" type="NUMERIC"/>
            <column name="expiry_date" type="DATE"/>
        </loadData>
    </changeSet>

</databaseChangeLog>
